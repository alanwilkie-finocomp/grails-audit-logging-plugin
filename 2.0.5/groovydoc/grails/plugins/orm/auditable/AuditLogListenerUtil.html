<!--

     Licensed to the Apache Software Foundation (ASF) under one
     or more contributor license agreements.  See the NOTICE file
     distributed with this work for additional information
     regarding copyright ownership.  The ASF licenses this file
     to you under the Apache License, Version 2.0 (the
     "License"); you may not use this file except in compliance
     with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing,
     software distributed under the License is distributed on an
     "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
     specific language governing permissions and limitations
     under the License.

-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (2.4.5) on Sun Jun 04 13:49:28 UTC 2017 -->
    <title>AuditLogListenerUtil (audit-logging 2.0.5 API)</title>
    <meta name="date" content="2017-06-04">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="AuditLogListenerUtil (audit-logging 2.0.5 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?grails/plugins/orm/auditable/AuditLogListenerUtil" target="_top">Frames</a></li>
            <li><a href="AuditLogListenerUtil.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>grails.plugins.orm.auditable</strong></div>

    <h2 title="[Groovy] Class AuditLogListenerUtil" class="title">[Groovy] Class AuditLogListenerUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>grails.plugins.orm.auditable.AuditLogListenerUtil
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">



    <p> Provides AuditLogListener utilities that
 can be used as either templates for your own extensions to
 the plugin or as default utilities.
 </p>

          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;groovy.lang.Closure</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#actorDefaultGetter">actorDefaultGetter</a></code><br>The original getActor method transplanted to the utility class as
 a closure. </td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.Class&lt;?&gt;</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getAuditDomainClass()">getAuditDomainClass</a></strong>()</code><br>Return the configured AuditLogEvent Grails Domain Class.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>static&nbsp;grails.core.GrailsDomainClass</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getAuditLogDomainInstance(def)">getAuditLogDomainInstance</a></strong>(java.lang.Object params)</code><br>Return Instance of the configured AuditLogEvent Grails Domain Class.</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.Object</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getAuditable(def)">getAuditable</a></strong>(java.lang.Object domain)</code><br>The static auditable attribute for the given domain class or null if none exists</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>static&nbsp;java.util.Map</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getAuditableMap(def)">getAuditableMap</a></strong>(java.lang.Object domain)</code><br>If auditable is defined as a Map, return it otherwise return null</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>static&nbsp;grails.core.GrailsDomainClass</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getDomainClass(def)">getDomainClass</a></strong>(java.lang.Object domain)</code><br>Return the grails domain class for the given domain object.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.String</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getEntityId(def)">getEntityId</a></strong>(java.lang.Object domain)</code><br>Get the Id to display for this entity when logging. </td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>static&nbsp;boolean</strong></code></td>
                            <td class="colLast"><code><strong><a href="#isAuditableEntity(def, java.lang.String)">isAuditableEntity</a></strong>(java.lang.Object domain, java.lang.String eventName)</code><br>Returns true for auditable entities, false otherwise.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.Object</strong></code></td>
                            <td class="colLast"><code><strong><a href="#isStampable(org.grails.datastore.mapping.engine.event.AbstractPersistenceEvent)">isStampable</a></strong>(org.grails.datastore.mapping.engine.event.AbstractPersistenceEvent event)</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.Object</strong></code></td>
                            <td class="colLast"><code><strong><a href="#isStampable(org.grails.datastore.mapping.engine.event.EventType)">isStampable</a></strong>(org.grails.datastore.mapping.engine.event.EventType eventType)</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>static&nbsp;java.lang.Object</strong></code></td>
                            <td class="colLast"><code><strong><a href="#resolve(def, def, def)">resolve</a></strong>(java.lang.Object attr, java.lang.Object str, java.lang.Object log)</code><br>Attempt to resolve the attribute from the RequestAttributes object passed
 to it. </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</strong></code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="actorDefaultGetter"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;groovy.lang.Closure <strong>actorDefaultGetter</strong></h4>
                                <p> The original getActor method transplanted to the utility class as
 a closure. The closure takes two arguments one a RequestAttributes object
 the other is an HttpSession object.

 These are strongly typed here for the purpose of documentation.
   </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="getAuditDomainClass()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Class&lt;?&gt; <strong>getAuditDomainClass</strong>()</h4>
                                <p> Return the configured AuditLogEvent Grails Domain Class.
   <DL><DT><B>Parameters:</B></DT><DD><code>domain</code> -  the domain instance</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getAuditLogDomainInstance(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;grails.core.GrailsDomainClass <strong>getAuditLogDomainInstance</strong>(java.lang.Object params)</h4>
                                <p> Return Instance of the configured AuditLogEvent Grails Domain Class.
   <DL><DT><B>Parameters:</B></DT><DD><code>domain</code> -  the domain instance</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getAuditable(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>getAuditable</strong>(java.lang.Object domain)</h4>
                                <p> The static auditable attribute for the given domain class or null if none exists
   </p>
                            </li>
                        </ul>
                    
                        <a name="getAuditableMap(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.util.Map <strong>getAuditableMap</strong>(java.lang.Object domain)</h4>
                                <p> If auditable is defined as a Map, return it otherwise return null
   </p>
                            </li>
                        </ul>
                    
                        <a name="getDomainClass(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;grails.core.GrailsDomainClass <strong>getDomainClass</strong>(java.lang.Object domain)</h4>
                                <p> Return the grails domain class for the given domain object.
   <DL><DT><B>Parameters:</B></DT><DD><code>domain</code> -  the domain instance</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getEntityId(def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.String <strong>getEntityId</strong>(java.lang.Object domain)</h4>
                                <p> Get the Id to display for this entity when logging. Domain classes can override the property
 used by supplying a [entityId] attribute in the auditable Map.
   <DL><DT><B>Parameters:</B></DT><DD>event</DD></DL><DL><DT><B>Returns:</B></DT><DD>String key</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="isAuditableEntity(def, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;boolean <strong>isAuditableEntity</strong>(java.lang.Object domain, java.lang.String eventName)</h4>
                                <p> Returns true for auditable entities, false otherwise.

 Domain classes can use the 'isAuditable' attribute to provide a closure
 that will be called in order to determine instance level auditability. For example,
 a domain class may only be audited after it becomes Final and not while Pending.
   </p>
                            </li>
                        </ul>
                    
                        <a name="isStampable(org.grails.datastore.mapping.engine.event.AbstractPersistenceEvent)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>isStampable</strong>(org.grails.datastore.mapping.engine.event.AbstractPersistenceEvent event)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="isStampable(org.grails.datastore.mapping.engine.event.EventType)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>isStampable</strong>(org.grails.datastore.mapping.engine.event.EventType eventType)</h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="resolve(def, def, def)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;java.lang.Object <strong>resolve</strong>(java.lang.Object attr, java.lang.Object str, java.lang.Object log)</h4>
                                <p> Attempt to resolve the attribute from the RequestAttributes object passed
 to it. This did not always work for people since on some designs
 users are not *always* logged in to the system.

 It was originally assumed that if you *were* generating events then you
 were logged in so the problem of null session.user did not come up in testing.
   </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../../../index-all.html">Index</a></li>
        <li><a href="../../../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../../../index.html?grails/plugins/orm/auditable/AuditLogListenerUtil" target="_top">Frames</a></li>
            <li><a href="AuditLogListenerUtil.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;Constructor&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
